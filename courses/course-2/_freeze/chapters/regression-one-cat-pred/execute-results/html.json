{
  "hash": "aeb2573cde4f406ffa3a264a937b16a7",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Chapter 3: Regression with a Categorical Predictor\"\nformat: \n   html:\n     df-print: kable\ntoc: true\ntoc-depth: 3\n---\n\n# Introduction\n\nIn the previous chapter, we studied regression with a **binary predictor**.\\\nIn this chapter, we extend that framework to a **categorical predictor with three levels**, called `trt`.\n\nThis is a common situation in experiments with more than two arms (e.g., waitlist vs two treatment variants). The main difference compared to the binary case is that the model now estimates:\n\n-   the expected outcome in a **reference group**\n-   the difference between each other group and the reference group\n\nYou will learn:\n\n-   how categorical predictors are represented using factors in R\n-   how to interpret intercepts and coefficients with 3+ groups\n-   how to obtain predicted values for each group\n-   how to compute and visualize pairwise group differences\n-   how linear (mean) and quantile (median) regression handle categorical predictors\n\n# 1. Packages and Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(broom)\nlibrary(quantreg)\nlibrary(marginaleffects)\nlibrary(here)\n```\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n## Load data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_clean <- read.csv(here(\"data\", \"steps_clean.csv\"))\ndf_clean <- df_clean |> rename(grp = group)\n```\n:::\n\n\nWe will again use the treatment indicator variable `trt` as our predictor. In the original data, this indicator has three levels:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable(df_clean$trt)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n     self-guided therapist-guided         waitlist \n              61               60               60 \n```\n\n\n:::\n:::\n\n\nTo make sure R treats `trt` as a categorical predictor, we convert it to a factor and choose a reference level.\n\nAs in the last chapter, we set `waitlist` as the reference group.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_clean <- df_clean |>\n  mutate(trt = factor(trt,\n    levels = c(\"waitlist\", \"therapist-guided\", \"self-guided\")\n  ))\nlevels(df_clean$trt)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"waitlist\"         \"therapist-guided\" \"self-guided\"     \n```\n\n\n:::\n:::\n\n\nNow we have the dummy coding:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncontrasts(df_clean$trt)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                 therapist-guided self-guided\nwaitlist                        0           0\ntherapist-guided                1           0\nself-guided                     0           1\n```\n\n\n:::\n:::\n\n\n# 2. Regression with a Categorical Predictor\n\nWith a categorical predictor with three levels, the regression model estimates:\n\n1.  the expected outcome in the reference group\n2.  the difference between each of the other groups and the reference group\n\n## 2.1 Model formula\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nlsas_post ~ trt\n```\n\n\n:::\n:::\n\n\nThe R syntax is the same as with the binary predictor. However, when `trt` has three levels, R uses **dummy coding** by default (also called treatment coding).\n\nIf `waitlist` is the reference group, the linear regression model can be written:\n\n$$\n\\mathbb{E}(LSAS_{post} \\mid trt) = \\beta_0 + \\beta_1 \\, \\mathbf{1}\\{trt = \\text{therapist-guided}\\} + \\beta_2 \\, \\mathbf{1}\\{trt = \\text{self-guided}\\}\n$$\n\nWhere:\n\n- $\\beta_0$ is the expected outcome in the reference group (`waitlist`)\n- $\\beta_1$ is the mean difference between therapist-guided and waitlist\n- $\\beta_2$ is the mean difference between self-guided and waitlist\n- $\\mathbf{1}\\{\\cdot\\}$ is the [indicator function](https://en.wikipedia.org/wiki/Indicator_function) which is 1 if the condition holds and 0 otherwise\n\n| trt              | Predicted value     |\n|------------------|---------------------|\n| waitlist         | $\\beta_0$           |\n| therapist-guided | $\\beta_0 + \\beta_1$ |\n| self-guided      | $\\beta_0 + \\beta_2$ |\n\nSo the coefficients compare each treatment arm to the reference group.\n\n# 3. Linear Regression (Mean Differences)\n\n## 3.1 Fit the model\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmod_lm <- lm(lsas_post ~ trt, data = df_clean)\nsummary(mod_lm)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = lsas_post ~ trt, data = df_clean)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-64.448 -14.912  -1.352  14.088  62.648 \n\nCoefficients:\n                    Estimate Std. Error t value Pr(>|t|)    \n(Intercept)           78.448      3.062  25.623  < 2e-16 ***\ntrttherapist-guided  -21.096      4.409  -4.785 3.76e-06 ***\ntrtself-guided       -13.536      4.349  -3.113  0.00218 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 23.32 on 166 degrees of freedom\n  (12 observations deleted due to missingness)\nMultiple R-squared:  0.1248,\tAdjusted R-squared:  0.1143 \nF-statistic: 11.84 on 2 and 166 DF,  p-value: 1.561e-05\n```\n\n\n:::\n:::\n\n\n::: {.callout-tip}\n### Interpretation\n\n-   **Intercept**: estimated mean LSAS score in the waitlist group\n-   **trt coefficients**: estimated mean differences vs waitlist\n\nWe can verify group means directly:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_clean |>\n  group_by(trt) |>\n  summarize(mean_lsas = mean(lsas_post, na.rm = TRUE))\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|trt              | mean_lsas|\n|:----------------|---------:|\n|waitlist         |  78.44828|\n|therapist-guided |  57.35185|\n|self-guided      |  64.91228|\n\n</div>\n:::\n:::\n\n:::\n\n## 3.2 Relationship to one-way ANOVA\n\nA linear regression with one categorical predictor (3+ groups) is equivalent to a one-way ANOVA:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nanova(mod_lm)\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|          |  Df|   Sum Sq|  Mean Sq|  F value|   Pr(>F)|\n|:---------|---:|--------:|--------:|--------:|--------:|\n|trt       |   2| 12873.37| 6436.685| 11.83959| 1.56e-05|\n|Residuals | 166| 90247.22|  543.658|       NA|       NA|\n\n</div>\n:::\n:::\n\n\nThe ANOVA table tests whether there is evidence that **at least one group mean differs**.\n\n# 4. Quantile Regression (Quantile Differences)\n\n## 4.1 Model formulation\n\nFor quantile regression at quantile $\\tau$:\n\n$$\nQ_{LSAS_{post}}(\\tau) =  \\beta_0(\\tau) + \\beta_1(\\tau) \\, \\mathbf{1}\\{trt = \\text{therapist-guided}\\} + \\beta_2(\\tau) \\, \\mathbf{1}\\{trt = \\text{self-guided}\\}\n$$\n\n- $\\beta_0(\\tau)$ = $\\tau$-th quantile in waitlist\n- $\\beta_1(\\tau)$ = $\\tau$-th quantile difference (therapist-guided − waitlist)\n- $\\beta_2(\\tau)$ = $\\tau$-th quantile difference (self-guided − waitlist)\n\n## 4.2 Fit a median regression\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmod_rq <- rq(lsas_post ~ trt, tau = 0.5, data = df_clean)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in rq.fit.br(x, y, tau = tau, ...): Solution may be nonunique\n```\n\n\n:::\n\n```{.r .cell-code}\nsummary(mod_rq)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in rq.fit.br(x, y, tau = tau, ci = TRUE, ...): Solution may be\nnonunique\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall: rq(formula = lsas_post ~ trt, tau = 0.5, data = df_clean)\n\ntau: [1] 0.5\n\nCoefficients:\n                    coefficients lower bd  upper bd \n(Intercept)          77.00000     71.70143  84.59713\ntrttherapist-guided -24.00000    -31.74701 -16.62650\ntrtself-guided      -13.00000    -18.30306  -2.13129\n```\n\n\n:::\n:::\n\n\nVerify group medians directly:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_clean |>\n  group_by(trt) |>\n  summarize(median_lsas = median(lsas_post, na.rm = TRUE))\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|trt              | median_lsas|\n|:----------------|-----------:|\n|waitlist         |        77.0|\n|therapist-guided |        52.5|\n|self-guided      |        64.0|\n\n</div>\n:::\n:::\n\n\n# 5. Model Objects and Coefficients\n\n## 5.1 Linear regression object\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnames(mod_lm)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"coefficients\"  \"residuals\"     \"effects\"       \"rank\"         \n [5] \"fitted.values\" \"assign\"        \"qr\"            \"df.residual\"  \n [9] \"na.action\"     \"contrasts\"     \"xlevels\"       \"call\"         \n[13] \"terms\"         \"model\"        \n```\n\n\n:::\n\n```{.r .cell-code}\ncoef(mod_lm)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n        (Intercept) trttherapist-guided      trtself-guided \n           78.44828           -21.09642           -13.53600 \n```\n\n\n:::\n:::\n\n\n-   `(Intercept)`: waitlist mean\n-   `trttherapist-guided`: mean difference vs waitlist\n-   `trtself-guided`: mean difference vs waitlist\n\n## 5.2 Quantile regression object\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncoef(mod_rq)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n        (Intercept) trttherapist-guided      trtself-guided \n                 77                 -24                 -13 \n```\n\n\n:::\n:::\n\n\nInterpretation is parallel, but for quantiles (e.g., medians).\n\n# 6. Predictions Using `marginaleffects`\n\nAs in the binary predictor case, `marginaleffects` makes it easy to get:\n\n-   predicted values for each group\n-   uncertainty (SEs and CIs)\n-   group differences as contrasts\n\n## 6.1 Predicted means by group (linear regression)\n\n\n::: {.cell}\n\n```{.r .cell-code}\navg_predictions(mod_lm, by = \"trt\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<!-- preamble start -->\n\n    <script src=\"https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js\"></script>\n\n    <script>\n      // Create table-specific functions using external factory\n      const tableFns_vst3hd6x94dw1rq5162y = TinyTable.createTableFunctions(\"tinytable_vst3hd6x94dw1rq5162y\");\n      // tinytable span after\n      window.addEventListener('load', function () {\n          var cellsToStyle = [\n            // tinytable style arrays after\n          { positions: [ { i: '3', j: 1 }, { i: '3', j: 2 }, { i: '3', j: 3 }, { i: '3', j: 4 }, { i: '3', j: 5 }, { i: '3', j: 6 }, { i: '3', j: 7 } ], css_id: 'tinytable_css_0j1kd51dioviyupn2dy7',}, \n          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 }, { i: '0', j: 4 }, { i: '0', j: 5 }, { i: '0', j: 6 }, { i: '0', j: 7 } ], css_id: 'tinytable_css_xtbvzrobrtxnbqpxeg1l',}, \n          ];\n\n          // Loop over the arrays to style the cells\n          cellsToStyle.forEach(function (group) {\n              group.positions.forEach(function (cell) {\n                  tableFns_vst3hd6x94dw1rq5162y.styleCell(cell.i, cell.j, group.css_id);\n              });\n          });\n      });\n    </script>\n\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css\">\n    <style>\n    /* tinytable css entries after */\n    #tinytable_vst3hd6x94dw1rq5162y td.tinytable_css_0j1kd51dioviyupn2dy7, #tinytable_vst3hd6x94dw1rq5162y th.tinytable_css_0j1kd51dioviyupn2dy7 {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: var(--tt-line-color); --line-color-left: var(--tt-line-color); --line-color-right: var(--tt-line-color); --line-color-top: var(--tt-line-color); --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%;  }\n    #tinytable_vst3hd6x94dw1rq5162y td.tinytable_css_xtbvzrobrtxnbqpxeg1l, #tinytable_vst3hd6x94dw1rq5162y th.tinytable_css_xtbvzrobrtxnbqpxeg1l {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: var(--tt-line-color); --line-color-left: var(--tt-line-color); --line-color-right: var(--tt-line-color); --line-color-top: var(--tt-line-color); --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%;  }\n    </style>\n    <div class=\"container\">\n      <table class=\"tinytable\" id=\"tinytable_vst3hd6x94dw1rq5162y\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        \n        <thead>\n              <tr>\n                <th scope=\"col\" data-row=\"0\" data-col=\"1\">trt</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"2\">Estimate</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"3\">Std. Error</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"4\">z</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"5\">Pr(&gt;|z|)</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"6\">2.5 %</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"7\">97.5 %</th>\n              </tr>\n        </thead>\n        <tfoot><tr><td colspan='7'>Type: response\n</td></tr></tfoot>\n        <tbody>\n                <tr>\n                  <td data-row=\"1\" data-col=\"1\">waitlist</td>\n                  <td data-row=\"1\" data-col=\"2\">78.4</td>\n                  <td data-row=\"1\" data-col=\"3\">3.06</td>\n                  <td data-row=\"1\" data-col=\"4\">25.6</td>\n                  <td data-row=\"1\" data-col=\"5\">&lt;0.001</td>\n                  <td data-row=\"1\" data-col=\"6\">72.4</td>\n                  <td data-row=\"1\" data-col=\"7\">84.4</td>\n                </tr>\n                <tr>\n                  <td data-row=\"2\" data-col=\"1\">therapist-guided</td>\n                  <td data-row=\"2\" data-col=\"2\">57.4</td>\n                  <td data-row=\"2\" data-col=\"3\">3.17</td>\n                  <td data-row=\"2\" data-col=\"4\">18.1</td>\n                  <td data-row=\"2\" data-col=\"5\">&lt;0.001</td>\n                  <td data-row=\"2\" data-col=\"6\">51.1</td>\n                  <td data-row=\"2\" data-col=\"7\">63.6</td>\n                </tr>\n                <tr>\n                  <td data-row=\"3\" data-col=\"1\">self-guided</td>\n                  <td data-row=\"3\" data-col=\"2\">64.9</td>\n                  <td data-row=\"3\" data-col=\"3\">3.09</td>\n                  <td data-row=\"3\" data-col=\"4\">21.0</td>\n                  <td data-row=\"3\" data-col=\"5\">&lt;0.001</td>\n                  <td data-row=\"3\" data-col=\"6\">58.9</td>\n                  <td data-row=\"3\" data-col=\"7\">71.0</td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n<!-- hack to avoid NA insertion in last line -->\n```\n\n:::\n:::\n\n\n## 6.2 Predicted medians by group (quantile regression)\n\n\n::: {.cell}\n\n```{.r .cell-code}\navg_predictions(mod_rq, by = \"trt\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<!-- preamble start -->\n\n    <script src=\"https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js\"></script>\n\n    <script>\n      // Create table-specific functions using external factory\n      const tableFns_0b0petpiavwfwwjcbpit = TinyTable.createTableFunctions(\"tinytable_0b0petpiavwfwwjcbpit\");\n      // tinytable span after\n      window.addEventListener('load', function () {\n          var cellsToStyle = [\n            // tinytable style arrays after\n          { positions: [ { i: '3', j: 1 }, { i: '3', j: 2 }, { i: '3', j: 3 }, { i: '3', j: 4 }, { i: '3', j: 5 }, { i: '3', j: 6 }, { i: '3', j: 7 } ], css_id: 'tinytable_css_nnk6u1iov4v4cg4fass2',}, \n          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 }, { i: '0', j: 4 }, { i: '0', j: 5 }, { i: '0', j: 6 }, { i: '0', j: 7 } ], css_id: 'tinytable_css_2iylr0ckw3edlxwrf8cw',}, \n          ];\n\n          // Loop over the arrays to style the cells\n          cellsToStyle.forEach(function (group) {\n              group.positions.forEach(function (cell) {\n                  tableFns_0b0petpiavwfwwjcbpit.styleCell(cell.i, cell.j, group.css_id);\n              });\n          });\n      });\n    </script>\n\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css\">\n    <style>\n    /* tinytable css entries after */\n    #tinytable_0b0petpiavwfwwjcbpit td.tinytable_css_nnk6u1iov4v4cg4fass2, #tinytable_0b0petpiavwfwwjcbpit th.tinytable_css_nnk6u1iov4v4cg4fass2 {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: var(--tt-line-color); --line-color-left: var(--tt-line-color); --line-color-right: var(--tt-line-color); --line-color-top: var(--tt-line-color); --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%;  }\n    #tinytable_0b0petpiavwfwwjcbpit td.tinytable_css_2iylr0ckw3edlxwrf8cw, #tinytable_0b0petpiavwfwwjcbpit th.tinytable_css_2iylr0ckw3edlxwrf8cw {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: var(--tt-line-color); --line-color-left: var(--tt-line-color); --line-color-right: var(--tt-line-color); --line-color-top: var(--tt-line-color); --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%;  }\n    </style>\n    <div class=\"container\">\n      <table class=\"tinytable\" id=\"tinytable_0b0petpiavwfwwjcbpit\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        \n        <thead>\n              <tr>\n                <th scope=\"col\" data-row=\"0\" data-col=\"1\">trt</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"2\">Estimate</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"3\">Std. Error</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"4\">z</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"5\">Pr(&gt;|z|)</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"6\">2.5 %</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"7\">97.5 %</th>\n              </tr>\n        </thead>\n        <tfoot><tr><td colspan='7'>Type: response\n</td></tr></tfoot>\n        <tbody>\n                <tr>\n                  <td data-row=\"1\" data-col=\"1\">waitlist</td>\n                  <td data-row=\"1\" data-col=\"2\">77</td>\n                  <td data-row=\"1\" data-col=\"3\">3.36</td>\n                  <td data-row=\"1\" data-col=\"4\">22.9</td>\n                  <td data-row=\"1\" data-col=\"5\">&lt;0.001</td>\n                  <td data-row=\"1\" data-col=\"6\">70.4</td>\n                  <td data-row=\"1\" data-col=\"7\">83.6</td>\n                </tr>\n                <tr>\n                  <td data-row=\"2\" data-col=\"1\">therapist-guided</td>\n                  <td data-row=\"2\" data-col=\"2\">53</td>\n                  <td data-row=\"2\" data-col=\"3\">4.07</td>\n                  <td data-row=\"2\" data-col=\"4\">13.0</td>\n                  <td data-row=\"2\" data-col=\"5\">&lt;0.001</td>\n                  <td data-row=\"2\" data-col=\"6\">45.0</td>\n                  <td data-row=\"2\" data-col=\"7\">61.0</td>\n                </tr>\n                <tr>\n                  <td data-row=\"3\" data-col=\"1\">self-guided</td>\n                  <td data-row=\"3\" data-col=\"2\">64</td>\n                  <td data-row=\"3\" data-col=\"3\">3.96</td>\n                  <td data-row=\"3\" data-col=\"4\">16.2</td>\n                  <td data-row=\"3\" data-col=\"5\">&lt;0.001</td>\n                  <td data-row=\"3\" data-col=\"6\">56.2</td>\n                  <td data-row=\"3\" data-col=\"7\">71.8</td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n<!-- hack to avoid NA insertion in last line -->\n```\n\n:::\n:::\n\n\n## 6.3 Group differences as contrasts\n\n### Mean differences (linear regression)\n\nWith three groups, there is no single “treatment − control” difference. Instead, we usually calculate the **pairwise mean differences** between all groups.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncmp <- avg_comparisons(mod_lm, variables = list(\"trt\" = \"pairwise\"))\ncmp\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<!-- preamble start -->\n\n    <script src=\"https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js\"></script>\n\n    <script>\n      // Create table-specific functions using external factory\n      const tableFns_557m13lbj5ff44z92jng = TinyTable.createTableFunctions(\"tinytable_557m13lbj5ff44z92jng\");\n      // tinytable span after\n      window.addEventListener('load', function () {\n          var cellsToStyle = [\n            // tinytable style arrays after\n          { positions: [ { i: '3', j: 1 }, { i: '3', j: 2 }, { i: '3', j: 3 }, { i: '3', j: 4 }, { i: '3', j: 5 }, { i: '3', j: 6 }, { i: '3', j: 7 } ], css_id: 'tinytable_css_49njkrvct2smn48nj9wt',}, \n          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 }, { i: '0', j: 4 }, { i: '0', j: 5 }, { i: '0', j: 6 }, { i: '0', j: 7 } ], css_id: 'tinytable_css_vvjs5k0evzcro0wru8an',}, \n          ];\n\n          // Loop over the arrays to style the cells\n          cellsToStyle.forEach(function (group) {\n              group.positions.forEach(function (cell) {\n                  tableFns_557m13lbj5ff44z92jng.styleCell(cell.i, cell.j, group.css_id);\n              });\n          });\n      });\n    </script>\n\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css\">\n    <style>\n    /* tinytable css entries after */\n    #tinytable_557m13lbj5ff44z92jng td.tinytable_css_49njkrvct2smn48nj9wt, #tinytable_557m13lbj5ff44z92jng th.tinytable_css_49njkrvct2smn48nj9wt {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: var(--tt-line-color); --line-color-left: var(--tt-line-color); --line-color-right: var(--tt-line-color); --line-color-top: var(--tt-line-color); --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%;  }\n    #tinytable_557m13lbj5ff44z92jng td.tinytable_css_vvjs5k0evzcro0wru8an, #tinytable_557m13lbj5ff44z92jng th.tinytable_css_vvjs5k0evzcro0wru8an {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: var(--tt-line-color); --line-color-left: var(--tt-line-color); --line-color-right: var(--tt-line-color); --line-color-top: var(--tt-line-color); --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%;  }\n    </style>\n    <div class=\"container\">\n      <table class=\"tinytable\" id=\"tinytable_557m13lbj5ff44z92jng\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        \n        <thead>\n              <tr>\n                <th scope=\"col\" data-row=\"0\" data-col=\"1\">Contrast</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"2\">Estimate</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"3\">Std. Error</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"4\">z</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"5\">Pr(&gt;|z|)</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"6\">2.5 %</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"7\">97.5 %</th>\n              </tr>\n        </thead>\n        <tfoot><tr><td colspan='7'>Type: response\n</td></tr></tfoot>\n        <tbody>\n                <tr>\n                  <td data-row=\"1\" data-col=\"1\">self-guided - therapist-guided</td>\n                  <td data-row=\"1\" data-col=\"2\">7.56</td>\n                  <td data-row=\"1\" data-col=\"3\">4.43</td>\n                  <td data-row=\"1\" data-col=\"4\">1.71</td>\n                  <td data-row=\"1\" data-col=\"5\">0.08773</td>\n                  <td data-row=\"1\" data-col=\"6\">-1.12</td>\n                  <td data-row=\"1\" data-col=\"7\">16.24</td>\n                </tr>\n                <tr>\n                  <td data-row=\"2\" data-col=\"1\">self-guided - waitlist</td>\n                  <td data-row=\"2\" data-col=\"2\">-13.54</td>\n                  <td data-row=\"2\" data-col=\"3\">4.35</td>\n                  <td data-row=\"2\" data-col=\"4\">-3.11</td>\n                  <td data-row=\"2\" data-col=\"5\">0.00185</td>\n                  <td data-row=\"2\" data-col=\"6\">-22.06</td>\n                  <td data-row=\"2\" data-col=\"7\">-5.01</td>\n                </tr>\n                <tr>\n                  <td data-row=\"3\" data-col=\"1\">therapist-guided - waitlist</td>\n                  <td data-row=\"3\" data-col=\"2\">-21.10</td>\n                  <td data-row=\"3\" data-col=\"3\">4.41</td>\n                  <td data-row=\"3\" data-col=\"4\">-4.78</td>\n                  <td data-row=\"3\" data-col=\"5\">&lt; 0.001</td>\n                  <td data-row=\"3\" data-col=\"6\">-29.74</td>\n                  <td data-row=\"3\" data-col=\"7\">-12.45</td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n<!-- hack to avoid NA insertion in last line -->\n```\n\n:::\n:::\n\n\n### Median differences (quantile regression)\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncmp_med <- avg_comparisons(mod_rq, variables = list(\"trt\" = \"pairwise\"))\ncmp_med\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<!-- preamble start -->\n\n    <script src=\"https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js\"></script>\n\n    <script>\n      // Create table-specific functions using external factory\n      const tableFns_jolzm0ofhjgct8n478ih = TinyTable.createTableFunctions(\"tinytable_jolzm0ofhjgct8n478ih\");\n      // tinytable span after\n      window.addEventListener('load', function () {\n          var cellsToStyle = [\n            // tinytable style arrays after\n          { positions: [ { i: '3', j: 1 }, { i: '3', j: 2 }, { i: '3', j: 3 }, { i: '3', j: 4 }, { i: '3', j: 5 }, { i: '3', j: 6 }, { i: '3', j: 7 } ], css_id: 'tinytable_css_xp9q5y45pg9nr0krl4e6',}, \n          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 }, { i: '0', j: 4 }, { i: '0', j: 5 }, { i: '0', j: 6 }, { i: '0', j: 7 } ], css_id: 'tinytable_css_eazn0gpqhsphjx0s1qf0',}, \n          ];\n\n          // Loop over the arrays to style the cells\n          cellsToStyle.forEach(function (group) {\n              group.positions.forEach(function (cell) {\n                  tableFns_jolzm0ofhjgct8n478ih.styleCell(cell.i, cell.j, group.css_id);\n              });\n          });\n      });\n    </script>\n\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css\">\n    <style>\n    /* tinytable css entries after */\n    #tinytable_jolzm0ofhjgct8n478ih td.tinytable_css_xp9q5y45pg9nr0krl4e6, #tinytable_jolzm0ofhjgct8n478ih th.tinytable_css_xp9q5y45pg9nr0krl4e6 {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: var(--tt-line-color); --line-color-left: var(--tt-line-color); --line-color-right: var(--tt-line-color); --line-color-top: var(--tt-line-color); --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%;  }\n    #tinytable_jolzm0ofhjgct8n478ih td.tinytable_css_eazn0gpqhsphjx0s1qf0, #tinytable_jolzm0ofhjgct8n478ih th.tinytable_css_eazn0gpqhsphjx0s1qf0 {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: var(--tt-line-color); --line-color-left: var(--tt-line-color); --line-color-right: var(--tt-line-color); --line-color-top: var(--tt-line-color); --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%;  }\n    </style>\n    <div class=\"container\">\n      <table class=\"tinytable\" id=\"tinytable_jolzm0ofhjgct8n478ih\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        \n        <thead>\n              <tr>\n                <th scope=\"col\" data-row=\"0\" data-col=\"1\">Contrast</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"2\">Estimate</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"3\">Std. Error</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"4\">z</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"5\">Pr(&gt;|z|)</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"6\">2.5 %</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"7\">97.5 %</th>\n              </tr>\n        </thead>\n        <tfoot><tr><td colspan='7'>Type: response\n</td></tr></tfoot>\n        <tbody>\n                <tr>\n                  <td data-row=\"1\" data-col=\"1\">self-guided - therapist-guided</td>\n                  <td data-row=\"1\" data-col=\"2\">11</td>\n                  <td data-row=\"1\" data-col=\"3\">5.67</td>\n                  <td data-row=\"1\" data-col=\"4\">1.94</td>\n                  <td data-row=\"1\" data-col=\"5\">0.0525</td>\n                  <td data-row=\"1\" data-col=\"6\">-0.12</td>\n                  <td data-row=\"1\" data-col=\"7\">22.12</td>\n                </tr>\n                <tr>\n                  <td data-row=\"2\" data-col=\"1\">self-guided - waitlist</td>\n                  <td data-row=\"2\" data-col=\"2\">-13</td>\n                  <td data-row=\"2\" data-col=\"3\">5.19</td>\n                  <td data-row=\"2\" data-col=\"4\">-2.50</td>\n                  <td data-row=\"2\" data-col=\"5\">0.0123</td>\n                  <td data-row=\"2\" data-col=\"6\">-23.18</td>\n                  <td data-row=\"2\" data-col=\"7\">-2.82</td>\n                </tr>\n                <tr>\n                  <td data-row=\"3\" data-col=\"1\">therapist-guided - waitlist</td>\n                  <td data-row=\"3\" data-col=\"2\">-24</td>\n                  <td data-row=\"3\" data-col=\"3\">5.28</td>\n                  <td data-row=\"3\" data-col=\"4\">-4.55</td>\n                  <td data-row=\"3\" data-col=\"5\">&lt;0.001</td>\n                  <td data-row=\"3\" data-col=\"6\">-34.34</td>\n                  <td data-row=\"3\" data-col=\"7\">-13.66</td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n<!-- hack to avoid NA insertion in last line -->\n```\n\n:::\n:::\n\n\n# 7. Visualization\n\n## 7.1 Group means with confidence intervals\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_predictions(mod_lm, by = \"trt\") +\n  labs(\n    x = \"Treatment group\",\n    y = \"Estimated Mean LSAS (95% CI)\",\n    title = \"Estimated Group Means from Linear Regression\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](regression-one-cat-pred_files/figure-html/plot-group-means-1.png){width=672}\n:::\n:::\n\n\n## 7.2 Group medians with confidence intervals\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_predictions(mod_rq, by = \"trt\") +\n  labs(\n    x = \"Treatment group\",\n    y = \"Estimated Median LSAS (95% CI)\",\n    title = \"Estimated Group Medians from Quantile Regression\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](regression-one-cat-pred_files/figure-html/plot-group-medians-1.png){width=672}\n:::\n:::\n\n\n## 7.3 Mean differences (pairwise) with confidence intervals\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncmp |>\n  ggplot(aes(y = contrast, x = estimate)) +\n  geom_vline(xintercept = 0, linetype = \"dashed\") +\n  geom_point(size = 3) +\n  geom_errorbar(aes(xmin = conf.low, xmax = conf.high), width = 0.1) +\n  labs(\n    y = \"\",\n    x = \"Estimated Mean Difference (95% CI)\",\n    title = \"Pairwise Mean Differences (Linear Regression)\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](regression-one-cat-pred_files/figure-html/plot-pairwise-mean-diffs-1.png){width=672}\n:::\n:::\n\n\n## 7.4 Median differences (pairwise) with confidence intervals\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(cmp_med, aes(y = contrast, x = estimate)) +\n  geom_vline(xintercept = 0, linetype = \"dashed\") +\n  geom_point(size = 3) +\n  geom_errorbar(aes(xmin = conf.low, xmax = conf.high), width = 0.1) +\n  labs(\n    y = \"\",\n    x = \"Estimated Median Difference (95% CI)\",\n    title = \"Pairwise Median Differences (Quantile Regression)\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](regression-one-cat-pred_files/figure-html/plot-pairwise-median-diffs-1.png){width=672}\n:::\n:::\n\n\n## Ratio of Means and Other Hypotheses\nAs before, we can answer a range of other hypotheses. For example, the ratio of group outcomes.\n\n::: {.cell}\n\n```{.r .cell-code}\navg_comparisons(\n  mod_lm,\n  variables = list(\"trt\" = \"pairwise\"),\n  comparison = \"ratio\"\n)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<!-- preamble start -->\n\n    <script src=\"https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js\"></script>\n\n    <script>\n      // Create table-specific functions using external factory\n      const tableFns_stm8jgjwm1xxpdmpoyt2 = TinyTable.createTableFunctions(\"tinytable_stm8jgjwm1xxpdmpoyt2\");\n      // tinytable span after\n      window.addEventListener('load', function () {\n          var cellsToStyle = [\n            // tinytable style arrays after\n          { positions: [ { i: '3', j: 1 }, { i: '3', j: 2 }, { i: '3', j: 3 }, { i: '3', j: 4 }, { i: '3', j: 5 }, { i: '3', j: 6 }, { i: '3', j: 7 } ], css_id: 'tinytable_css_5abbw4dq4lt2biizmtj5',}, \n          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 }, { i: '0', j: 4 }, { i: '0', j: 5 }, { i: '0', j: 6 }, { i: '0', j: 7 } ], css_id: 'tinytable_css_0s3annbxldktipfrf3yb',}, \n          ];\n\n          // Loop over the arrays to style the cells\n          cellsToStyle.forEach(function (group) {\n              group.positions.forEach(function (cell) {\n                  tableFns_stm8jgjwm1xxpdmpoyt2.styleCell(cell.i, cell.j, group.css_id);\n              });\n          });\n      });\n    </script>\n\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css\">\n    <style>\n    /* tinytable css entries after */\n    #tinytable_stm8jgjwm1xxpdmpoyt2 td.tinytable_css_5abbw4dq4lt2biizmtj5, #tinytable_stm8jgjwm1xxpdmpoyt2 th.tinytable_css_5abbw4dq4lt2biizmtj5 {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: var(--tt-line-color); --line-color-left: var(--tt-line-color); --line-color-right: var(--tt-line-color); --line-color-top: var(--tt-line-color); --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%;  }\n    #tinytable_stm8jgjwm1xxpdmpoyt2 td.tinytable_css_0s3annbxldktipfrf3yb, #tinytable_stm8jgjwm1xxpdmpoyt2 th.tinytable_css_0s3annbxldktipfrf3yb {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: var(--tt-line-color); --line-color-left: var(--tt-line-color); --line-color-right: var(--tt-line-color); --line-color-top: var(--tt-line-color); --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%;  }\n    </style>\n    <div class=\"container\">\n      <table class=\"tinytable\" id=\"tinytable_stm8jgjwm1xxpdmpoyt2\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        \n        <thead>\n              <tr>\n                <th scope=\"col\" data-row=\"0\" data-col=\"1\">Contrast</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"2\">Estimate</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"3\">Std. Error</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"4\">z</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"5\">Pr(&gt;|z|)</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"6\">2.5 %</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"7\">97.5 %</th>\n              </tr>\n        </thead>\n        <tfoot><tr><td colspan='7'>Type: response\n</td></tr></tfoot>\n        <tbody>\n                <tr>\n                  <td data-row=\"1\" data-col=\"1\">mean(self-guided) / mean(therapist-guided)</td>\n                  <td data-row=\"1\" data-col=\"2\">1.132</td>\n                  <td data-row=\"1\" data-col=\"3\">0.0826</td>\n                  <td data-row=\"1\" data-col=\"4\">13.7</td>\n                  <td data-row=\"1\" data-col=\"5\">&lt;0.001</td>\n                  <td data-row=\"1\" data-col=\"6\">0.970</td>\n                  <td data-row=\"1\" data-col=\"7\">1.294</td>\n                </tr>\n                <tr>\n                  <td data-row=\"2\" data-col=\"1\">mean(self-guided) / mean(waitlist)</td>\n                  <td data-row=\"2\" data-col=\"2\">0.827</td>\n                  <td data-row=\"2\" data-col=\"3\">0.0509</td>\n                  <td data-row=\"2\" data-col=\"4\">16.3</td>\n                  <td data-row=\"2\" data-col=\"5\">&lt;0.001</td>\n                  <td data-row=\"2\" data-col=\"6\">0.728</td>\n                  <td data-row=\"2\" data-col=\"7\">0.927</td>\n                </tr>\n                <tr>\n                  <td data-row=\"3\" data-col=\"1\">mean(therapist-guided) / mean(waitlist)</td>\n                  <td data-row=\"3\" data-col=\"2\">0.731</td>\n                  <td data-row=\"3\" data-col=\"3\">0.0495</td>\n                  <td data-row=\"3\" data-col=\"4\">14.8</td>\n                  <td data-row=\"3\" data-col=\"5\">&lt;0.001</td>\n                  <td data-row=\"3\" data-col=\"6\">0.634</td>\n                  <td data-row=\"3\" data-col=\"7\">0.828</td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n<!-- hack to avoid NA insertion in last line -->\n```\n\n:::\n:::\n\n\nWe could also compare each treatment group to the grand mean, instead of contrasting them with a reference group (the waitlist).\n\n::: {.cell}\n\n```{.r .cell-code}\navg_predictions(\n  mod_lm,\n  by = \"trt\",\n  hypothesis = ~meandev\n)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<!-- preamble start -->\n\n    <script src=\"https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js\"></script>\n\n    <script>\n      // Create table-specific functions using external factory\n      const tableFns_cbrhj9idl5u7e760zbs5 = TinyTable.createTableFunctions(\"tinytable_cbrhj9idl5u7e760zbs5\");\n      // tinytable span after\n      window.addEventListener('load', function () {\n          var cellsToStyle = [\n            // tinytable style arrays after\n          { positions: [ { i: '3', j: 1 }, { i: '3', j: 2 }, { i: '3', j: 3 }, { i: '3', j: 4 }, { i: '3', j: 5 }, { i: '3', j: 6 }, { i: '3', j: 7 } ], css_id: 'tinytable_css_tetvntsphov7tq1t8h4k',}, \n          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 }, { i: '0', j: 4 }, { i: '0', j: 5 }, { i: '0', j: 6 }, { i: '0', j: 7 } ], css_id: 'tinytable_css_7q3bt6rq79864gvq0b1a',}, \n          ];\n\n          // Loop over the arrays to style the cells\n          cellsToStyle.forEach(function (group) {\n              group.positions.forEach(function (cell) {\n                  tableFns_cbrhj9idl5u7e760zbs5.styleCell(cell.i, cell.j, group.css_id);\n              });\n          });\n      });\n    </script>\n\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css\">\n    <style>\n    /* tinytable css entries after */\n    #tinytable_cbrhj9idl5u7e760zbs5 td.tinytable_css_tetvntsphov7tq1t8h4k, #tinytable_cbrhj9idl5u7e760zbs5 th.tinytable_css_tetvntsphov7tq1t8h4k {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: var(--tt-line-color); --line-color-left: var(--tt-line-color); --line-color-right: var(--tt-line-color); --line-color-top: var(--tt-line-color); --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%;  }\n    #tinytable_cbrhj9idl5u7e760zbs5 td.tinytable_css_7q3bt6rq79864gvq0b1a, #tinytable_cbrhj9idl5u7e760zbs5 th.tinytable_css_7q3bt6rq79864gvq0b1a {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: var(--tt-line-color); --line-color-left: var(--tt-line-color); --line-color-right: var(--tt-line-color); --line-color-top: var(--tt-line-color); --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%;  }\n    </style>\n    <div class=\"container\">\n      <table class=\"tinytable\" id=\"tinytable_cbrhj9idl5u7e760zbs5\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        \n        <thead>\n              <tr>\n                <th scope=\"col\" data-row=\"0\" data-col=\"1\">Hypothesis</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"2\">Estimate</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"3\">Std. Error</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"4\">z</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"5\">Pr(&gt;|z|)</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"6\">2.5 %</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"7\">97.5 %</th>\n              </tr>\n        </thead>\n        <tfoot><tr><td colspan='7'>Type: response\n</td></tr></tfoot>\n        <tbody>\n                <tr>\n                  <td data-row=\"1\" data-col=\"1\">(waitlist) - Mean</td>\n                  <td data-row=\"1\" data-col=\"2\">11.54</td>\n                  <td data-row=\"1\" data-col=\"3\">2.52</td>\n                  <td data-row=\"1\" data-col=\"4\">4.583</td>\n                  <td data-row=\"1\" data-col=\"5\">&lt;0.001</td>\n                  <td data-row=\"1\" data-col=\"6\">6.61</td>\n                  <td data-row=\"1\" data-col=\"7\">16.48</td>\n                </tr>\n                <tr>\n                  <td data-row=\"2\" data-col=\"1\">(therapist-guided) - Mean</td>\n                  <td data-row=\"2\" data-col=\"2\">-9.55</td>\n                  <td data-row=\"2\" data-col=\"3\">2.56</td>\n                  <td data-row=\"2\" data-col=\"4\">-3.725</td>\n                  <td data-row=\"2\" data-col=\"5\">&lt;0.001</td>\n                  <td data-row=\"2\" data-col=\"6\">-14.58</td>\n                  <td data-row=\"2\" data-col=\"7\">-4.53</td>\n                </tr>\n                <tr>\n                  <td data-row=\"3\" data-col=\"1\">(self-guided) - Mean</td>\n                  <td data-row=\"3\" data-col=\"2\">-1.99</td>\n                  <td data-row=\"3\" data-col=\"3\">2.53</td>\n                  <td data-row=\"3\" data-col=\"4\">-0.787</td>\n                  <td data-row=\"3\" data-col=\"5\">0.431</td>\n                  <td data-row=\"3\" data-col=\"6\">-6.95</td>\n                  <td data-row=\"3\" data-col=\"7\">2.97</td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n<!-- hack to avoid NA insertion in last line -->\n```\n\n:::\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n# Summary\n\nIn this chapter you learned:\n\n- how to fit regression models with a categorical predictor (3 levels)\n- how dummy coding works (reference group + differences)\n- how linear regression estimates **mean differences** across groups\n- how quantile regression estimates **quantile differences** across groups\n- how to extract predicted values and contrasts using `marginaleffects`\n- how to visualize group means/medians and pairwise differences with confidence intervals\n",
    "supporting": [
      "regression-one-cat-pred_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}